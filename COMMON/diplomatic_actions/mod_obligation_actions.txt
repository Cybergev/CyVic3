redeem_obligation = {
	groups = {
		general
	}
	requires_approval = no
	potential = {
		NOT = {
			is_country_type = decentralized
		}
		scope:target_country = {
			NOT = {
				is_country_type = decentralized
			}
		}
		scope:target_country = {
			owes_obligation_to = root
		}
	}
	possible = {
		is_revolutionary = no
		scope:target_country = {
			is_revolutionary = no
		}
	}
	accept_effect = {
		change_relations = {
			country = scope:target_country
			value = 30
		}
		scope:target_country = {
			set_owes_obligation_to = {
				country = root
				setting = no
			}
		}
		if = {
			limit = {
				scope:target_country = {
					country_rank = rank_value:great_power
				}
			}
			change_infamy = -20
		}
		if = {
			limit = {
				scope:target_country = {
					OR = {
						country_rank = rank_value:major_power
						country_rank = rank_value:unrecognized_major_power
					}
				}
			}
			change_infamy = -10
		}
		if = {
			limit = {
				scope:target_country = {
					OR = {
						country_rank = rank_value:minor_power
						country_rank = rank_value:unrecognized_regional_power
					}
				}
			}
			change_infamy = -5
		}
		if = {
			limit = {
				scope:target_country = {
					OR = {
						country_rank = rank_value:insignificant_power
						country_rank = rank_value:unrecognized_power
					}
				}
			}
			change_infamy = -2
		}
	}
	ai = {
		evaluation_chance = {
			value = 0.25
		}
		propose_score = {
			value = 0
			if = {
				limit = {
					root.infamy >= 10
					scope:target_country = {
						OR = {
							country_rank = rank_value:insignificant_power
							country_rank = rank_value:unrecognized_power
						}
					}
				}
				add = 10
			}
			if = {
				limit = {
					root.infamy >= 25
					scope:target_country = {
						OR = {
							country_rank = rank_value:minor_power
							country_rank = rank_value:unrecognized_regional_power
						}
					}
				}
				add = 25
			}
			if = {
				limit = {
					root.infamy >= 50
					scope:target_country = {
						OR = {
							country_rank = rank_value:major_power
							country_rank = rank_value:unrecognized_major_power
						}
					}
				}
				add = 50
			}
			if = {
				limit = {
					root.infamy >= 75
					scope:target_country = {
						country_rank = rank_value:great_power
					}
				}
				add = 75
			}
			if = {
				limit = {
					OR = {
						has_attitude = {
							who = scope:target_country
							attitude = cooperative
						}
						has_attitude = {
							who = scope:target_country
							attitude = genial
						}
					}
				}
				add = 10
			}
			if = {
				limit = {
					OR = {
						has_attitude = {
							who = scope:target_country
							attitude = protective
						}
						has_attitude = {
							who = scope:target_country
							attitude = conciliatory
						}
					}
				}
				add = 20
			}
			if = {
				limit = {
					OR = {
						AND = {
							root.infamy >= 10
							scope:target_country = {
								OR = {
									country_rank = rank_value:insignificant_power
									country_rank = rank_value:unrecognized_power
								}
							}
						}
						AND = {
							root.infamy >= 25
							scope:target_country = {
								OR = {
									country_rank = rank_value:minor_power
									country_rank = rank_value:unrecognized_regional_power
								}
							}
						}
						AND = {
							root.infamy >= 50
							scope:target_country = {
								OR = {
									country_rank = rank_value:major_power
									country_rank = rank_value:unrecognized_major_power
								}
							}
						}
						AND = {
							root.infamy >= 75
							scope:target_country = {
								country_rank = rank_value:great_power
							}
						}
					}
				}
				add = 10
			}
		}
		will_propose = {
			OR = {
				has_attitude = {
					who = scope:target_country
					attitude = cooperative
				}
				has_attitude = {
					who = scope:target_country
					attitude = genial
				}
				has_attitude = {
					who = scope:target_country
					attitude = protective
				}
				has_attitude = {
					who = scope:target_country
					attitude = conciliatory
				}
			}
			root.country_rank > scope:target_country.country_rank
		}
	}
}
